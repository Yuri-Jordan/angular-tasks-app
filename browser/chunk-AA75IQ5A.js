import{$ as k,$a as it,A as m,Aa as St,Ab as Re,B as Nt,Ba as te,Bb as Le,C as _,Ca as ee,D as g,Da as ae,Db as Oe,E as bt,Ea as ie,Eb as Pe,F as R,Fa as ne,G as jt,Ga as re,H as X,Ha as oe,I as p,Ia as se,J as Vt,Ja as me,K as d,Ka as ce,L as zt,La as le,M as Ht,Ma as de,N as s,Na as pe,O as o,Oa as ue,P as h,Pa as fe,Q as b,Qa as he,R as v,Ra as tt,S as L,Sa as xt,T as C,Ta as _e,U as I,Ua as ge,V as O,Va as yt,W as P,Wa as ke,X as N,Xa as be,Y as q,Ya as et,Z as c,Za as T,_ as y,_a as at,a as A,aa as G,ab as nt,ba as vt,bb as M,c as x,ca as j,cb as rt,d as Et,da as V,db as ot,ea as Ct,eb as st,f as It,fa as $t,fb as ve,ga as qt,gb as Ce,ha as Gt,hb as D,i as Mt,ia as K,j as _t,ja as Qt,jb as Se,k as At,kb as mt,lb as ct,m as Bt,mb as xe,n as W,nb as ye,o as gt,ob as Te,p as kt,pa as Ut,pb as De,q as Ft,qb as we,r as u,ra as Wt,rb as Ee,s as B,sb as Ie,t as F,ta as Zt,tb as Me,u as Z,ua as Jt,ub as Ae,v as Rt,vb as lt,w as J,wa as Xt,wb as dt,x as Lt,xa as Y,y as Ot,ya as Kt,yb as Be,z as Pt,za as Yt,zb as Fe}from"./chunk-HFN4U65Q.js";var pt=class a{constructor(i,t){this.dialogRef=i;this.data=t}static \u0275fac=function(t){return new(t||a)(_(ye),_(Te))};static \u0275cmp=g({type:a,selectors:[["app-delete-dialog"]],standalone:!1,decls:9,vars:5,consts:[["mat-dialog-title",""],[3,"innerHTML"],["mat-button","","mat-dialog-close",""],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(t,e){t&1&&(s(0,"h2",0),c(1),o(),s(2,"mat-dialog-content"),h(3,"div",1),o(),s(4,"mat-dialog-actions")(5,"button",2),c(6),o(),s(7,"button",3),c(8),o()()),t&2&&(m(),y(e.data.title),m(2),d("innerHTML",e.data.content,Pt),m(3),y(e.data.confirmButtonText||"Cancelar"),m(),d("mat-dialog-close",!0),m(),k(" ",e.data.cancelButtonText||"Ok"," "))},dependencies:[D,we,Ee,Me,Ie],encapsulation:2,changeDetection:0})};var je={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};function We(a,i){if(a&1){let t=L();s(0,"div",1)(1,"button",2),C("click",function(){B(t);let n=I();return F(n.action())}),c(2),o()()}if(a&2){let t=I();m(2),k(" ",t.data.action," ")}}var Ze=["label"];function Je(a,i){}var Xe=Math.pow(2,31)-1,Q=class{_overlayRef;instance;containerInstance;_afterDismissed=new x;_afterOpened=new x;_onAction=new x;_durationTimeoutId;_dismissedByAction=!1;constructor(i,t){this._overlayRef=t,this.containerInstance=i,i._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(i){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(i,Xe))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},Ve=new kt("MatSnackBarData"),S=class{politeness="assertive";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},Ke=(()=>{class a{static \u0275fac=function(e){return new(e||a)};static \u0275dir=R({type:a,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return a})(),Ye=(()=>{class a{static \u0275fac=function(e){return new(e||a)};static \u0275dir=R({type:a,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return a})(),ta=(()=>{class a{static \u0275fac=function(e){return new(e||a)};static \u0275dir=R({type:a,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return a})(),ea=(()=>{class a{snackBarRef=u(Q);data=u(Ve);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=g({type:a,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(e,n){e&1&&(s(0,"div",0),c(1),o(),p(2,We,3,1,"div",1)),e&2&&(m(),k(" ",n.data.message,`
`),m(),Ht(n.hasAction?2:-1))},dependencies:[D,Ke,Ye,ta],styles:[`.mat-mdc-simple-snack-bar{display:flex}
`],encapsulation:2,changeDetection:0})}return a})(),Dt="_mat-snack-bar-enter",wt="_mat-snack-bar-exit",aa=(()=>{class a extends ge{_ngZone=u(Rt);_elementRef=u(J);_changeDetectorRef=u($t);_platform=u(Yt);_rendersRef;_animationsDisabled=u(Lt,{optional:!0})==="NoopAnimations";snackBarConfig=u(S);_document=u(qt);_trackedModals=new Set;_enterFallback;_exitFallback;_renders=new x;_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new x;_onExit=new x;_onEnter=new x;_animationState="void";_live;_label;_role;_liveElementId=u(ee).getId("mat-snack-bar-container-live-");constructor(){super();let t=this.snackBarConfig;t.politeness==="assertive"&&!t.announcementMessage?this._live="assertive":t.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert")),this._rendersRef=Ot(()=>this._renders.next(),{manualCleanup:!0})}attachComponentPortal(t){this._assertNotAttached();let e=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),e}attachTemplatePortal(t){this._assertNotAttached();let e=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),e}attachDomPortal=t=>{this._assertNotAttached();let e=this._portalOutlet.attachDomPortal(t);return this._afterPortalAttached(),e};onAnimationEnd(t){t===wt?this._completeExit():t===Dt&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?this._renders.pipe(_t(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(Dt)))}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(Dt)},200)))}exit(){return this._destroyed?It(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?this._renders.pipe(_t(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(wt)))}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(wt),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit(),this._renders.complete(),this._rendersRef.destroy()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(l=>t.classList.add(l)):t.classList.add(e)),this._exposeToModals();let n=this._label.nativeElement,r="mdc-snackbar__label";n.classList.toggle(r,!n.querySelector(`.${r}`))}_exposeToModals(){let t=this._liveElementId,e=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let n=0;n<e.length;n++){let r=e[n],l=r.getAttribute("aria-owns");this._trackedModals.add(r),l?l.indexOf(t)===-1&&r.setAttribute("aria-owns",l+" "+t):r.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{let e=t.getAttribute("aria-owns");if(e){let n=e.replace(this._liveElementId,"").trim();n.length>0?t.setAttribute("aria-owns",n):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let t=this._elementRef.nativeElement,e=t.querySelector("[aria-hidden]"),n=t.querySelector("[aria-live]");if(e&&n){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),n.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=g({type:a,selectors:[["mat-snack-bar-container"]],viewQuery:function(e,n){if(e&1&&(O(yt,7),O(Ze,7)),e&2){let r;P(r=N())&&(n._portalOutlet=r.first),P(r=N())&&(n._label=r.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(e,n){e&1&&C("animationend",function(l){return n.onAnimationEnd(l.animationName)})("animationcancel",function(l){return n.onAnimationEnd(l.animationName)}),e&2&&zt("mat-snack-bar-container-enter",n._animationState==="visible")("mat-snack-bar-container-exit",n._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!n._animationsDisabled)},features:[X],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,n){e&1&&(s(0,"div",1)(1,"div",2,0)(3,"div",3),p(4,Je,0,0,"ng-template",4),o(),h(5,"div"),o()()),e&2&&(m(5),Vt("aria-live",n._live)("role",n._role)("id",n._liveElementId))},dependencies:[yt],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return a})();function ia(){return new S}var na=new kt("mat-snack-bar-default-options",{providedIn:"root",factory:ia}),ze=(()=>{class a{_overlay=u(be);_live=u(te);_injector=u(Z);_breakpointObserver=u(St);_parentSnackBar=u(a,{optional:!0,skipSelf:!0});_defaultConfig=u(na);_snackBarRefAtThisLevel=null;simpleSnackBarComponent=ea;snackBarContainerComponent=aa;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(){}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",n){let r=A(A({},this._defaultConfig),n);return r.data={message:t,action:e},r.announcementMessage===t&&(r.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,r)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){let n=e&&e.viewContainerRef&&e.viewContainerRef.injector,r=Z.create({parent:n||this._injector,providers:[{provide:S,useValue:e}]}),l=new xt(this.snackBarContainerComponent,e.viewContainerRef,r),f=t.attach(l);return f.instance.snackBarConfig=e,f.instance}_attach(t,e){let n=A(A(A({},new S),this._defaultConfig),e),r=this._createOverlay(n),l=this._attachSnackBarContainer(r,n),f=new Q(l,r);if(t instanceof Nt){let E=new _e(t,null,{$implicit:n.data,snackBarRef:f});f.instance=l.attachTemplatePortal(E)}else{let E=this._createInjector(n,f),ht=new xt(t,void 0,E),Ue=l.attachComponentPortal(ht);f.instance=Ue.instance}return this._breakpointObserver.observe(je.HandsetPortrait).pipe(Bt(r.detachments())).subscribe(E=>{r.overlayElement.classList.toggle(this.handsetCssClass,E.matches)}),n.announcementMessage&&l._onAnnounce.subscribe(()=>{this._live.announce(n.announcementMessage,n.politeness)}),this._animateSnackBar(f,n),this._openedSnackBarRef=f,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter()}_createOverlay(t){let e=new ke;e.direction=t.direction;let n=this._overlay.position().global(),r=t.direction==="rtl",l=t.horizontalPosition==="left"||t.horizontalPosition==="start"&&!r||t.horizontalPosition==="end"&&r,f=!l&&t.horizontalPosition!=="center";return l?n.left("0"):f?n.right("0"):n.centerHorizontally(),t.verticalPosition==="top"?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}_createInjector(t,e){let n=t&&t.viewContainerRef&&t.viewContainerRef.injector;return Z.create({parent:n||this._injector,providers:[{provide:Q,useValue:e},{provide:Ve,useValue:t.data}]})}static \u0275fac=function(e){return new(e||a)};static \u0275prov=W({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var z=class a{constructor(i){this.http=i}dialog=u(De);_snackBar=u(ze);HOJE=Date.now();tasksSubject=new Et({});tasks$=this.tasksSubject.asObservable();url="api/tasks";getItems(i,t,e,n,r,l){var f=new Ut().set("pageIndex",i.pageIndex.toString()).set("pageSize",i.pageSize.toString()).set("sortColumn",t?t.active:e).set("sortOrder",t?t.direction:n);l&&(f=f.set("filterColumn",r).set("filterQuery",l)),this.http.get(this.url,{params:f}).subscribe(E=>{this.tasksSubject.next(E)})}getById(i){return this.http.get(`${this.url}/${i}`)}create(i){return this.http.post(this.url,i)}update(i,t){return this.http.put(`${this.url}/${i}`,t)}delete(i){return this.http.delete(`${this.url}/${i}`)}getDialog(i,t,e){return this.dialog.open(pt,{data:{title:"Confirma\xE7\xE3o",content:`Voc\xEA tem certeza que deseja excluir a tarefa <b>${e.titulo}</b>?`,confirmButtonText:"Sim",cancelButtonText:"Cancelar"},width:"500px",enterAnimationDuration:i,exitAnimationDuration:t})}openSnackBarSucesso(i,t){let e=new S;e.duration=7e3,this._snackBar.open(i,t,e)}openSnackBarNotFound(i,t){let e=new S;e.duration=7e3,e.panelClass=["snackbar-not-found"],this._snackBar.open(i,t,e)}static \u0275fac=function(t){return new(t||a)(Ft(Wt))};static \u0275prov=W({token:a,factory:a.\u0275fac,providedIn:"root"})};var H=class a{constructor(i){this.el=i}ngAfterViewInit(){setTimeout(()=>{this.el.nativeElement.focus()})}static \u0275fac=function(t){return new(t||a)(_(J))};static \u0275dir=R({type:a,selectors:[["","appAutofocus",""]],standalone:!1})};var $=class a{transform(i,t=10,e="..."){return i?i.length>t?i.substring(0,t)+e:i:""}static \u0275fac=function(t){return new(t||a)};static \u0275pipe=jt({name:"truncar",type:a,pure:!0,standalone:!1})};var la=()=>[10,20,50],da=()=>["/tasks","new"],Ge=a=>["/tasks",a];function pa(a,i){a&1&&h(0,"mat-progress-bar",21)}function ua(a,i){a&1&&(s(0,"button",22),c(1,` Criar nova tarefa
`),o()),a&2&&d("routerLink",G(1,da))}function fa(a,i){a&1&&(s(0,"th",23),c(1,"ID"),o())}function ha(a,i){if(a&1&&(s(0,"td",24),c(1),o()),a&2){let t=i.$implicit;m(),y(t.id)}}function _a(a,i){a&1&&(s(0,"th",23),c(1,"T\xEDtulo"),o())}function ga(a,i){if(a&1&&(s(0,"td",24)(1,"a",25),c(2),j(3,"truncar"),o()()),a&2){let t=i.$implicit;m(),d("routerLink",vt(5,Ge,t.id)),m(),y(V(3,2,t.titulo,20))}}function ka(a,i){a&1&&(s(0,"th",23),c(1,"Descri\xE7\xE3o"),o())}function ba(a,i){if(a&1&&(s(0,"td",24),c(1),j(2,"truncar"),o()),a&2){let t=i.$implicit;m(),y(V(2,1,t.descricao,20))}}function va(a,i){a&1&&(s(0,"th",23),c(1,"Prazo"),o())}function Ca(a,i){if(a&1&&(s(0,"td",24),c(1),j(2,"date"),o()),a&2){let t=i.$implicit;m(),y(V(2,1,t.dataVencimento,"dd/MM/yyyy"))}}function Sa(a,i){a&1&&(s(0,"th",23),c(1,"Status"),o())}function xa(a,i){a&1&&(b(0),s(1,"span",27),c(2,"Feita"),o(),v())}function ya(a,i){a&1&&(b(0),s(1,"span",28),c(2,"Atrasada"),o(),v())}function Ta(a,i){a&1&&(s(0,"span",29),c(1,"Fazendo"),o())}function Da(a,i){if(a&1&&p(0,ya,3,0,"ng-container",26)(1,Ta,2,0,"ng-template",null,1,Ct),a&2){let t=q(2),e=I().$implicit,n=I();d("ngIf",e.dataVencimento&&e.dataVencimento<n.HOJE)("ngIfElse",t)}}function wa(a,i){if(a&1&&(s(0,"td",24),p(1,xa,3,0,"ng-container",26)(2,Da,3,2,"ng-template",null,0,Ct),o()),a&2){let t=i.$implicit,e=q(3);m(),d("ngIf",t.tarefaCompletada)("ngIfElse",e)}}function Ea(a,i){a&1&&(s(0,"th",30),c(1,"A\xE7\xF5es"),o())}function Ia(a,i){if(a&1){let t=L();s(0,"td",24)(1,"button",31)(2,"mat-icon"),c(3,"edit"),o()(),s(4,"button",32),C("click",function(){let n=B(t).$implicit,r=I();return F(r.onDelete(n))}),s(5,"mat-icon"),c(6,"delete"),o()()()}if(a&2){let t=i.$implicit;m(),d("routerLink",vt(1,Ge,t.id))}}function Ma(a,i){a&1&&h(0,"tr",33)}function Aa(a,i){a&1&&h(0,"tr",34)}var ut=class a{constructor(i){this.taskService=i}tasks;paginator;sort;filterForm;displayedColumns=["id","titulo","descricao","dataVencimento","tarefaCompletada","actions"];defaultFilterColumn="titulo";defaultSortColumn="titulo";defaultSortOrder="asc";HOJE=Date.now();filtro;ngOnInit(){this.filterForm=new nt({titulo:new M("")}),this.monitorarFiltro(),this.monitorarTasks(),this.loadData()}monitorarFiltro(){this.filterForm.get("titulo")?.valueChanges.pipe(Mt(1e3),At()).subscribe(i=>{this.loadData(i)})}monitorarTasks(){this.taskService.tasks$.subscribe(i=>{console.log(i),this.paginator&&(this.paginator.length=i.total,this.paginator.pageIndex=i.pageIndex,this.paginator.pageSize=i.pageSize,this.tasks=new pe(i.items))})}loadData(i){var t=new Se;t.pageIndex=0,t.pageSize=10,this.filtro=i,this.getData(t)}getData(i){i&&this.taskService.getItems(i,this.sort,this.defaultSortColumn,this.defaultSortOrder,this.defaultFilterColumn,this.filtro)}onDelete(i){this.taskService.getDialog("0.2s","0.2s",i).afterClosed().subscribe(e=>{e!==void 0&&e!==!0&&this.taskService.delete(i.id).subscribe(n=>{this.taskService.openSnackBarSucesso(`Tarefa ${n.titulo} apagada com sucesso!`,"Fechar"),this.loadData(this.filtro)})})}static \u0275fac=function(t){return new(t||a)(_(z))};static \u0275cmp=g({type:a,selectors:[["app-task-list"]],viewQuery:function(t,e){if(t&1&&(O(mt,5),O(ct,5)),t&2){let n;P(n=N())&&(e.paginator=n.first),P(n=N())&&(e.sort=n.first)}},standalone:!1,decls:30,vars:14,consts:[["checkLate",""],["doing",""],["mode","indeterminate",4,"ngIf"],["mat-flat-button","","color","primary","class","btn-add",3,"routerLink",4,"ngIf"],[3,"formGroup"],["form","",3,"hidden"],["matInput","","appAutofocus","","formControlName","titulo","placeholder","Busque pelo T\xEDtulo da tarefa"],[2,"width","100%","max-width","100vw","overflow","auto"],["mat-table","","matSort","",1,"mat-elevation-z8",3,"matSortChange","dataSource","hidden","matSortActive","matSortDirection"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","titulo"],["matColumnDef","descricao"],["matColumnDef","dataVencimento"],["matColumnDef","tarefaCompletada"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"page","hidden","pageSize","pageSizeOptions"],["mode","indeterminate"],["mat-flat-button","","color","primary",1,"btn-add",3,"routerLink"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[3,"routerLink"],[4,"ngIf","ngIfElse"],[2,"color","green"],[2,"color","red"],[2,"color","orange"],["mat-header-cell",""],["mat-icon-button","","color","warn",3,"routerLink"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){t&1&&(p(0,pa,1,0,"mat-progress-bar",2),s(1,"h1"),c(2,"Listagem de tarefas"),o(),p(3,ua,2,2,"button",3),s(4,"form",4)(5,"mat-form-field",5),h(6,"input",6),o()(),s(7,"div",7)(8,"table",8),C("matSortChange",function(){return e.loadData()}),b(9,9),p(10,fa,2,0,"th",10)(11,ha,2,1,"td",11),v(),b(12,12),p(13,_a,2,0,"th",10)(14,ga,4,7,"td",11),v(),b(15,13),p(16,ka,2,0,"th",10)(17,ba,3,4,"td",11),v(),b(18,14),p(19,va,2,0,"th",10)(20,Ca,3,4,"td",11),v(),b(21,15),p(22,Sa,2,0,"th",10)(23,wa,4,2,"td",11),v(),b(24,16),p(25,Ea,2,0,"th",17)(26,Ia,7,3,"td",11),v(),p(27,Ma,1,0,"tr",18)(28,Aa,1,0,"tr",19),o(),s(29,"mat-paginator",20),C("page",function(r){return e.getData(r)}),o()()),t&2&&(d("ngIf",!e.tasks),m(3),d("ngIf",e.tasks),m(),d("formGroup",e.filterForm),m(),d("hidden",!e.tasks),m(3),d("dataSource",e.tasks)("hidden",!e.tasks)("matSortActive",e.defaultSortColumn)("matSortDirection",e.defaultSortOrder),m(19),d("matHeaderRowDef",e.displayedColumns),m(),d("matRowDefColumns",e.displayedColumns),m(),d("hidden",!e.tasks)("pageSize",10)("pageSizeOptions",G(13,la)))},dependencies:[K,Y,rt,et,at,it,ot,st,H,D,Ce,Ae,ae,ne,me,re,ie,ce,oe,se,le,de,mt,ct,xe,lt,tt,dt,Qt,$],styles:["table.mat-table[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.btn-add[_ngcontent-%COMP%]{float:right}"]})};var ft=class a{form;getErrors(i,t,e=null){var n=[];return Object.keys(i.errors||{}).forEach(r=>{switch(r){case"required":n.push(`${t} ${e?.[r]??"\xE9 obrigat\xF3rio."}`);break;case"pattern":n.push(`${t} ${e?.[r]??"possui caract\xE9res inv\xE1lidos."}`);break;case"minlength":let l=i.errors?.minlength?.requiredLength;n.push(`${t} ${e?.[r]??`deve ter pelo menos ${l} caracteres.`}`);break;case"maxlength":let f=i.errors?.maxlength?.requiredLength;n.push(`${t} ${e?.[r]??`deve ter no m\xE1ximo ${f} caracteres.`}`);break;default:n.push(`${t} \xE9 inv\xE1lido.`);break}}),n}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=g({type:a,selectors:[["ng-component"]],standalone:!1,decls:0,vars:0,template:function(t,e){},encapsulation:2})};var Ba=()=>["/tasks"];function Fa(a,i){a&1&&h(0,"mat-progress-bar",13)}function Ra(a,i){a&1&&(s(0,"span",14),c(1,"Atrasada"),o())}function La(a,i){if(a&1&&(s(0,"mat-error"),c(1),o()),a&2){let t=i.$implicit;m(),k(" ",t," ")}}function Oa(a,i){if(a&1&&(s(0,"mat-error"),c(1),o()),a&2){let t=i.$implicit;m(),k(" ",t," ")}}function Pa(a,i){if(a&1&&(s(0,"mat-error"),c(1),o()),a&2){let t=i.$implicit;m(),k(" ",t," ")}}var U=class a extends ft{constructor(t,e,n){super();this.activatedRoute=t;this.router=e;this.taskService=n}titulo;task;id;HOJE=Date.now();ngOnInit(){this.form=new nt({titulo:new M("",[T.required,T.minLength(3),T.maxLength(100)]),descricao:new M("",[T.required,T.minLength(3),T.maxLength(150)]),dataVencimento:new M("",T.required),tarefaCompletada:new M(!1)}),this.loadData()}loadData(){var t=this.activatedRoute?.snapshot?.paramMap?.get("id");this.id=t?+t:0,this.id?this.taskService.getById(this.id).subscribe({next:e=>{this.task=e,this.titulo="Editando - "+this.task.titulo,this.form.patchValue(this.task)},error:e=>this.handleError(e)}):this.titulo="Criando nova tarefa"}onSubmit(){var t=this.id?this.task:{};t&&(this.id?this.taskService.update(this.id,this.form.value).subscribe({next:e=>{this.taskService.openSnackBarSucesso(`Tarefa ${e.titulo} atualizada com sucesso!`,"Fechar"),this.router.navigate(["/tasks"])},error:e=>this.handleError(e)}):this.taskService.create(this.form.value).subscribe({next:e=>{this.taskService.openSnackBarSucesso("Tarefa criada com sucesso!","Fechar"),this.router.navigate(["/tasks"])},error:e=>this.handleError(e)}))}handleError(t){this.taskService.openSnackBarNotFound("statusText"in t?t.statusText:"Erro ao executar a\xE7\xE3o!","Fechar"),this.router.navigate(["/tasks"])}static \u0275fac=function(e){return new(e||a)(_(Jt),_(Xt),_(z))};static \u0275cmp=g({type:a,selectors:[["app-task-form"]],standalone:!1,features:[X],decls:32,vars:16,consts:[["picker",""],["mode","indeterminate",4,"ngIf"],[1,"task-edit"],["style","color: red;",4,"ngIf"],[3,"ngSubmit","formGroup"],["matInput","","appAutofocus","","formControlName","titulo","required","","placeholder","Digite um t\xEDtulo"],[4,"ngFor","ngForOf"],["matInput","","formControlName","descricao","required","","placeholder","Digite uma descri\xE7\xE3o"],["formControlName","dataVencimento","matInput","",3,"matDatepicker"],["matIconSuffix","",3,"for"],["formControlName","tarefaCompletada"],["mat-flat-button","","color","primary","type","submit",3,"disabled"],["mat-flat-button","","color","secondary",3,"routerLink"],["mode","indeterminate"],[2,"color","red"]],template:function(e,n){if(e&1){let r=L();p(0,Fa,1,0,"mat-progress-bar",1),s(1,"div",2)(2,"h1"),c(3),j(4,"truncar"),p(5,Ra,2,0,"span",3),o(),s(6,"form",4),C("ngSubmit",function(){return B(r),F(n.onSubmit())}),s(7,"mat-form-field")(8,"mat-label"),c(9,"Titulo:"),o(),h(10,"input",5),p(11,La,2,1,"mat-error",6),o(),s(12,"mat-form-field")(13,"mat-label"),c(14,"Descri\xE7\xE3o:"),o(),h(15,"textarea",7),p(16,Oa,2,1,"mat-error",6),o(),s(17,"mat-form-field")(18,"mat-label"),c(19,"Escolha uma data"),o(),h(20,"input",8)(21,"mat-datepicker-toggle",9)(22,"mat-datepicker",null,0),p(24,Pa,2,1,"mat-error",6),o(),s(25,"mat-slide-toggle",10),c(26,"Tarefa conclu\xEDda"),o(),s(27,"div")(28,"button",11),c(29),o(),s(30,"button",12),c(31," Cancelar "),o()()()()}if(e&2){let r,l=q(23);d("ngIf",n.id&&!n.task),m(3),k("",V(4,12,""+n.titulo,50)," "),m(2),d("ngIf",n.task&&!(!(n.form==null||(r=n.form.get("tarefaCompletada"))==null)&&r.value)&&(n.form==null||(r=n.form.get("dataVencimento"))==null?null:r.value)&&(n.form==null||(r=n.form.get("dataVencimento"))==null?null:r.value)<n.HOJE),m(),d("formGroup",n.form),m(5),d("ngForOf",n.getErrors(n.form.get("titulo"),"T\xEDtulo")),m(5),d("ngForOf",n.getErrors(n.form.get("descricao"),"Descri\xE7\xE3o")),m(4),d("matDatepicker",l),m(),d("for",l),m(3),d("ngForOf",n.getErrors(n.form.get("dataVencimento"),"Data de vencimento")),m(4),d("disabled",!n.form.valid),m(),k(" ",n.id?"Atualizar":"Criar"," "),m(),d("routerLink",G(15,Ba))}},dependencies:[Gt,K,Y,rt,et,at,it,ve,ot,st,H,D,lt,tt,ue,fe,he,Be,Fe,Re,Le,dt,$],styles:["table.mat-table[_ngcontent-%COMP%]{width:100%}mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}"]})};var Na=[{path:"",component:ut},{path:"new",component:U},{path:":id",component:U}],Qe=class a{static \u0275fac=function(t){return new(t||a)};static \u0275mod=bt({type:a});static \u0275inj=gt({imports:[Pe,Oe,Kt.forChild(Na),Zt]})};export{Qe as TasksModule};
